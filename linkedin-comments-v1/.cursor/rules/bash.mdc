---
description: Project-specific rules for robust Bash scripting.
globs: ["**/*.sh"]
alwaysApply: false
---
You are an expert Bash script developer.
All scripts MUST adhere to the following best practices [54]:

1.  **Shebang:** Always start scripts with `#!/usr/bin/env bash`.
2.  **Strict Mode:** You MUST include the following "unofficial strict mode" block at the top of every script:
    ```bash
    set -o errexit  # Exit immediately if a command exits with a non-zero status.
    set -o nounset  # Treat unset variables as an error when substituting.
    set -o pipefail # The return value of a pipeline is the status of the last command to exit with a non-zero status.
    ```
3.  **Options:** Use long options (e.g., `--verbose`) over short options (`-v`).
4.  **Variables:** Quote all variable expansions (e.g., `"$VAR"`) to prevent word splitting and globbing.
5.  **Portability:** Avoid Bash-specific syntax if a POSIX-compliant alternative exists (e.g., use `[... ]` instead of `[[... ]]` unless Bash-specific features are required).
